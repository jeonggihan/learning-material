# âœ… Chapter 4. Generics

ì œë„¤ë¦­(Generic)ì€ ìë°” 5ë¶€í„° ë„ì…ëœ ê¸°ëŠ¥ìœ¼ë¡œ, ì»´íŒŒì¼ íƒ€ì„ì— íƒ€ì… ì•ˆì •ì„±ì„ ë³´ì¥í•˜ê³ , ë¶ˆí•„ìš”í•œ í˜•ë³€í™˜ì„ ì¤„ì´ë©°, ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ì„ ë†’ì—¬ì¤€ë‹¤. ì´ ì¥ì—ì„œëŠ” ì œë„¤ë¦­ì„ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ê³¼ ì£¼ì˜í•  ì ì„ ë‹¤ë£¬ë‹¤.

## ğŸ“Œ ë¡œ íƒ€ì…(raw type) ì‚¬ìš© ê¸ˆì§€

* ì œë„¤ë¦­ íƒ€ì…ì„ ì‚¬ìš©í•  ë•Œ íƒ€ì… ë§¤ê°œë³€ìˆ˜ë¥¼ ìƒëµí•˜ë©´ ë¡œ íƒ€ì…ì´ ë˜ë©°, ì´ëŠ” ì»´íŒŒì¼ íƒ€ì„ íƒ€ì… ì²´í¬ë¥¼ ìš°íšŒí•˜ê²Œ ëœë‹¤.
* ë¡œ íƒ€ì… ì‚¬ìš© ì‹œ ê²½ê³ ê°€ ë°œìƒí•˜ê³ , ClassCastExceptionì´ ë°œìƒí•  ìœ„í—˜ì´ ìˆë‹¤.
* âŒ ì˜ëª»ëœ ì˜ˆ:

  ```java
  List list = new ArrayList();
  list.add("String");
  Integer num = (Integer) list.get(0); // ëŸ°íƒ€ì„ ì—ëŸ¬ ë°œìƒ
  ```
* âœ… ì˜¬ë°”ë¥¸ ì˜ˆ:

  ```java
  List<String> list = new ArrayList<>();
  String str = list.get(0);
  ```

## ğŸ“Œ ì œë„¤ë¦­ íƒ€ì…ê³¼ ë©”ì„œë“œ ì‘ì„±

* ì œë„¤ë¦­ì€ í´ë˜ìŠ¤, ì¸í„°í˜ì´ìŠ¤, ë©”ì„œë“œì— ì ìš©í•  ìˆ˜ ìˆë‹¤.
* ì˜ˆ: ì œë„¤ë¦­ í´ë˜ìŠ¤

  ```java
  public class Box<T> {
      private T item;
      public void set(T item) { this.item = item; }
      public T get() { return item; }
  }
  ```
* ì˜ˆ: ì œë„¤ë¦­ ë©”ì„œë“œ

  ```java
  public static <T> List<T> asList(T... elements) {
      return Arrays.asList(elements);
  }
  ```

## ğŸ“Œ ì™€ì¼ë“œì¹´ë“œ íƒ€ì… í™œìš©

* ì œë„¤ë¦­ íƒ€ì…ì„ ë” ìœ ì—°í•˜ê²Œ í•˜ê¸° ìœ„í•´ `?`ë¥¼ ì‚¬ìš©í•˜ëŠ” ì™€ì¼ë“œì¹´ë“œ ë¬¸ë²•ì„ ì œê³µí•œë‹¤.
* ì£¼ìš” ê·œì¹™ (PECS ì›ì¹™):

    * **Producer â†’ extends**: ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” ê²½ìš°ì—ëŠ” `? extends T`
    * **Consumer â†’ super**: ë°ì´í„°ë¥¼ ì†Œë¹„í•˜ëŠ” ê²½ìš°ì—ëŠ” `? super T`
* ì˜ˆ:

  ```java
  public void printNumbers(List<? extends Number> numbers) {
      for (Number n : numbers) {
          System.out.println(n);
      }
  }
  ```

## ğŸ“Œ íƒ€ì… ì•ˆì „ ì´ì¢… ì»¨í…Œì´ë„ˆ íŒ¨í„´

* ë‹¤ì–‘í•œ íƒ€ì…ì˜ ê°ì²´ë¥¼ í•˜ë‚˜ì˜ ì»¨í…Œì´ë„ˆì— ì•ˆì „í•˜ê²Œ ë‹´ê¸° ìœ„í•´ Class ê°ì²´ë¥¼ í‚¤ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹
* ì˜ˆ:

  ```java
  public class Favorites {
      private Map<Class<?>, Object> favorites = new HashMap<>();

      public <T> void putFavorite(Class<T> type, T instance) {
          favorites.put(type, instance);
      }

      public <T> T getFavorite(Class<T> type) {
          return type.cast(favorites.get(type));
      }
  }
  ```
* ì´ íŒ¨í„´ì€ íƒ€ì… ì•ˆì „ì„±ê³¼ ìœ ì—°ì„±ì„ ë™ì‹œì— ì œê³µí•œë‹¤.

## âœ… ë§ˆë¬´ë¦¬

ì œë„¤ë¦­ì€ ìë°” íƒ€ì… ì‹œìŠ¤í…œì„ ë” ê°•ë ¥í•˜ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ë„êµ¬ì´ì§€ë§Œ, ì˜¬ë°”ë¥¸ ì„¤ê³„ ì—†ì´ ì‚¬ìš©í•  ê²½ìš° ì˜¤íˆë ¤ í˜¼ë€ì„ ì´ˆë˜í•  ìˆ˜ ìˆë‹¤. í•­ìƒ íƒ€ì… ì•ˆì •ì„±ê³¼ ëª…í™•ì„±ì„ ê³ ë ¤í•´ ì„¤ê³„í•´ì•¼ í•œë‹¤.
